import os
from collections import Counter
from PIL import Image
from config import IMAGES_DIR
import pandas as pd


resolutions = []

# Loop through all image files in the images directory
for fname in os.listdir(IMAGES_DIR):
    if fname.lower().endswith((".jpg")):
        path = os.path.join(IMAGES_DIR, fname)
        try:
            with Image.open(path) as img:
                resolutions.append(img.size)  # (width, height)
        except Exception as e:
            print("Error reading image:", fname, e)

counts = Counter(resolutions)

df = pd.DataFrame(
    [(w, h, c) for (w, h), c in counts.items()],
    columns=["Width", "Height", "Count"]
).sort_values(by="Count", ascending=False)

print("\n=== IMAGE RESOLUTION STATS ===\n")
print(df.to_string(index=False))

print("\nTotal unique resolutions:", len(df))
print("Total images scanned:", len(resolutions))

"""Finds all the photos resolutions and actually shows you the unique resolutions in al the images and shows what needs to be pruned
Showed that most of the dataset is uniform
350 × 350 : 12,794 images  (≈93%)

Prune the ones that are small ,but resize large size images

Total unique resolutions: 855

Total images scanned: 13718

=== IMAGE RESOLUTION STATS ===

 Width  Height  Count
   350     350  12794
   137     189      2
   120     145      2
   355     536      2
   110     147      2
   120     170      1
   196     185      1
   148     172      1
   161     167      1
   186     182      1
   184     186      1
   112     128      1
   215     475      1
   150     176      1
   149     164      1
   147     166      1
   145     182      1
   441     505      1
   107     147      1
   223     239      1
   214     270      1
   182     247      1
   176     245      1
   195     252      1
   186     245      1
   121     162      1
   193     203      1
   101     118      1
   357     392      1
   161     197      1
   160     188      1
   134     161      1
   138     165      1
   367     378      1
   364     378      1
   115     128      1
   261     307      1
   265     308      1
   213     239      1
   135     130      1
   124     144      1
   130     141      1
   212     239      1
   131     137      1
   122     139      1
   320     353      1
   206     243      1
   202     237      1
   299     351      1
   193     227      1
   210     216      1
   109     141      1
   195     216      1
   199     214      1
   196     222      1
   197     227      1
   193     219      1
   197     235      1
   320     342      1
   204     211      1
   313     331      1
   180     217      1
   290     331      1
   232     277      1
   245     277      1
   240     244      1
   219     266      1
   223     287      1
   223     244      1
   214     225      1
   241     291      1
   321     339      1
   203     230      1
   206     226      1
   170     221      1
   237     281      1
   106     143      1
   135     164      1
   210     224      1
   183     173      1
   183     222      1
   178     216      1
   112     119      1
   108     117      1
   107     122      1
   109     131      1
   128     147      1
   290     344      1
   295     323      1
   260     319      1
   267     319      1
   270     314      1
   259     309      1
   294     329      1
   305     332      1
   303     343      1
   318     328      1
   262     302      1
   276     307      1
   264     303      1
   157     181      1
   161     179      1
   155     181      1
   103     141      1
   319     371      1
   313     371      1
   320     372      1
   112     142      1
   197     372      1
   116     146      1
   101     131      1
   114     140      1
   108     119      1
   108     127      1
   101     140      1
   146     157      1
   146     176      1
   143     182      1
   178     205      1
   150     178      1
   106     138      1
   101     148      1
   113     142      1
   189     177      1
   111     147      1
   111     152      1
   106     129      1
   109     127      1
   101     151      1
   108     150      1
   198     249      1
   236     275      1
   251     247      1
   128     146      1
   104     156      1
   110     127      1
   120     161      1
   132     184      1
   106     126      1
   214     288      1
   224     302      1
   221     288      1
   105     141      1
   131     167      1
   118     152      1
   121     148      1
   115     158      1
   106     135      1
   106     122      1
   107     138      1
   151     184      1
   153     182      1
   150     185      1
   143     193      1
   153     181      1
   108     141      1
   121     142      1
   122     154      1
   131     162      1
   199     229      1
   198     233      1
   197     234      1
   206     230      1
   122     149      1
   356     536      1
   347     536      1
   119     154      1
   194     263      1
   124     148      1
   106     119      1
   105     108      1
   162     191      1
   165     182      1
   173     202      1
   103     117      1
   119     135      1
   111     133      1
   100     113      1
   127     131      1
   222     260      1
   107     119      1
   102     106      1
   104     120      1
   129     154      1
   141     180      1
   129     175      1
   145     179      1
   109     135      1
   109     134      1
   103     138      1
   116     149      1
   144     157      1
   122     127      1
   120     156      1
   163     215      1
   108     133      1
   152     198      1
   141     197      1
   155     222      1
   122     161      1
   119     164      1
   114     155      1
   109     167      1
   102     136      1
   111     139      1
   112     118      1
   166     218      1
   117     141      1
   184     245      1
   104     149      1
   149     199      1
   146     127      1
   181     202      1
   166     210      1
   177     225      1
   225     240      1
   107     141      1
   109     124      1
   187     241      1
   106     118      1
   170     216      1
   116     148      1
   114     136      1
   107     149      1
   117     132      1
   102     116      1
   101     139      1
   116     160      1
   153     216      1
   108     118      1
   156     210      1
   110     189      1
   138     205      1
   149     135      1
   117     161      1
   104     125      1
   148     187      1
   156     194      1
   103     137      1
   111     124      1
   127     181      1
   133     180      1
   102     135      1
   120     175      1
   139     172      1
   135     173      1
   222     245      1
   164     206      1
   119     174      1
   113     111      1
   155     157      1
   261     261      1
   104     123      1
   140     181      1
   141     190      1
   111     116      1
   159     196      1
   146     188      1
   148     203      1
   151     206      1
   129     153      1
   189     215      1
   184     181      1
   175     219      1
   298     485      1
   173     291      1
   194     347      1
   202     339      1
   245     370      1
   247     378      1
   299     513      1
   145     260      1
   213     296      1
   308     252      1
   236     333      1
   216     383      1
   134     198      1
   169     277      1
   124     250      1
   117     261      1
   135     150      1
   126     234      1
   236     412      1
   148     255      1
   162     244      1
   162     248      1
   205     370      1
   256     398      1
   218     375      1
   152     246      1
   193     344      1
   196     339      1
   211     279      1
   203     374      1
   241     383      1
   260     380      1
   233     404      1
   304     507      1
   160     249      1
   252     461      1
   248     522      1
   242     439      1
   128     258      1
   282     506      1
   276     477      1
   345     402      1
   225     480      1
   205     357      1
   108     202      1
   137     322      1
   104     213      1
   195     531      1
   266     379      1
   208     417      1
   231     429      1
   121     268      1
   258     390      1
   219     479      1
   176     324      1
   166     321      1
   223     235      1
   137     301      1
   220     386      1
   237     473      1
   212     393      1
   193     409      1
   272     525      1
   202     195      1
   101     123      1
   140     160      1
   147     172      1
   147     163      1
   127     151      1
   157     144      1
   129     139      1
   170     191      1
   174     195      1
   249     281      1
   249     297      1
   274     290      1
   254     291      1
   145     177      1
   128     279      1
   179     193      1
   187     191      1
   188     199      1
   188     198      1
   197     188      1
   179     179      1
   180     164      1
   171     127      1
   179     161      1
   179     172      1
   180     161      1
   186     172      1
   177     159      1
   202     186      1
   189     210      1
   129     166      1

Total unique resolutions: 359
Total images scanned: 13156


#"""